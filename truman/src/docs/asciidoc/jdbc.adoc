[#jdbc]
= JdbcTemplate

`SQLExceptionTranslator` 是一个接口，如果你需要在 `SQLException` 和 `org.springframework.dao.DataAccessException` 之间作转换，那么必须实现该接口。

转换器类的实现可以采用一般通用的做法(比如使用 JDBC 的 SQLState code)，如果为了使转换更准确，也可以进行定制（比如使用 Oracle 的 error code）。

`SQLErrorCodeSQLExceptionTranslator` 是 `SQLExceptionTranslator` 的默认实现。该实现使用指定数据库厂商的 error code，比采用 SQLState 更精确。转换过程基于一个 JavaBean （ 类 型 为 SQLErrorCodes ） 中 的 error code 。

这 个 JavaBean 由 `SQLErrorCodesFactory` 工厂类创建，其中的内容来自于 *`sql-error-codes.xml`* 配置文 件 。

该文件中的数据库厂商代码基于 Database MetaData 信息中的 DatabaseProductName，从而配合当前数据库的使用。

`SQLErrorCodeSQLExceptionTranslator` 使用以下的匹配规则：首先检查是否存在完成定制转换的子类实现 。通常 `SQLErrorCodeSQLExceptionTranslator` 这个类可以作为一个具体类使用，不需要进行定制，那么这个规则将不适用。
接着将 `SQLException` 的 error code 与错误代码集中的 error code 进行匹配。默认情况下错误代码集将从 `SQLErrorCodesFactory` 取得。错误代码集来自 classpath 下的 `sql-error-codes.xml` 文件，它们将与数据库 metadata 信息中的 database name 进行映射。
